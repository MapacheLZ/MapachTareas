"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2689],{2689:(y,d,s)=>{s.r(d),s.d(d,{RegistroPageModule:()=>F});var u=s(2200),g=s(4341),e=s(7343),m=s(8132),p=s(467),o=s(3664),f=s(1562),h=s(7291);let M=(()=>{var l;class i{constructor(t,n){this.router=t,this.storageService=n,this.email="",this.password="",this.showToast=!1,this.toastMessage=""}register(){var t=this;return(0,p.A)(function*(){if(!t.email||!t.password)return t.toastMessage="Por favor completa todos los campos",void(t.showToast=!0);if(!t.esCorreoValido(t.email))return t.toastMessage="Por favor ingresa un correo v\xe1lido (ejemplo@correo.com)",void(t.showToast=!0);const n=JSON.parse(localStorage.getItem("usuarios")||"[]");n.find(c=>c.email===t.email)?t.toastMessage="El correo ya est\xe1 registrado":(n.push({email:t.email,password:t.password}),localStorage.setItem("usuarios",JSON.stringify(n)),yield t.storageService.guardarUsuario(t.email),t.toastMessage="\xa1Cuenta creada exitosamente!",setTimeout(()=>{t.router.navigate(["/alarmas"])},1e3)),t.showToast=!0})()}esCorreoValido(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}static#o=l=()=>(this.\u0275fac=function(n){return new(n||i)(o.rXU(f.Ix),o.rXU(h.n))},this.\u0275cmp=o.VBU({type:i,selectors:[["app-registro"]],standalone:!1,decls:32,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/inicio"],[1,"ion-padding"],[1,"logo-container"],["name","person-add-outline",1,"logo-icon"],[1,"animate__animated","animate__fadeInUp"],["position","floating"],["type","email",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["expand","block","color","primary",1,"ion-margin-top","animate__animated","animate__pulse","animate__infinite",3,"click"],[1,"ion-text-center","ion-margin-top"],["fill","clear","routerLink","/inicio-sesion"],["duration","2000","position","bottom",3,"didDismiss","isOpen","message"]],template:function(n,a){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),o.nrm(3,"ion-back-button",2),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Registro"),o.k0s()()(),o.j41(6,"ion-content",3)(7,"div",4),o.nrm(8,"ion-icon",5),o.k0s(),o.j41(9,"ion-card",6)(10,"ion-card-header")(11,"ion-card-title"),o.EFF(12,"Crea tu cuenta"),o.k0s(),o.j41(13,"ion-card-subtitle"),o.EFF(14,"Completa tus datos"),o.k0s()(),o.j41(15,"ion-card-content")(16,"ion-item")(17,"ion-label",7),o.EFF(18,"Email"),o.k0s(),o.j41(19,"ion-input",8),o.mxI("ngModelChange",function(r){return o.DH7(a.email,r)||(a.email=r),r}),o.k0s()(),o.j41(20,"ion-item")(21,"ion-label",7),o.EFF(22,"Contrase\xf1a"),o.k0s(),o.j41(23,"ion-input",9),o.mxI("ngModelChange",function(r){return o.DH7(a.password,r)||(a.password=r),r}),o.k0s()(),o.j41(24,"ion-button",10),o.bIt("click",function(){return a.register()}),o.EFF(25," Crear cuenta "),o.k0s(),o.j41(26,"div",11)(27,"span"),o.EFF(28,"\xbfYa tienes cuenta? "),o.k0s(),o.j41(29,"ion-button",12),o.EFF(30,"Iniciar Sesi\xf3n"),o.k0s()()()(),o.j41(31,"ion-toast",13),o.bIt("didDismiss",function(){return a.showToast=!1}),o.k0s()()),2&n&&(o.R7$(19),o.R50("ngModel",a.email),o.R7$(4),o.R50("ngModel",a.password),o.R7$(8),o.Y8G("isOpen",a.showToast)("message",a.toastMessage))},dependencies:[g.BC,g.vS,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.W9,e.eU,e.iq,e.$w,e.uz,e.he,e.BC,e.op,e.ai,e.Gw,e.el,e.N7,m.Wk],styles:['@charset "UTF-8";.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px;margin-bottom:20px}.logo-icon[_ngcontent-%COMP%]{font-size:100px;color:var(--ion-color-primary);animation:_ngcontent-%COMP%_bounce 2s infinite}ion-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #0003}ion-card-title[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-primary)}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-15px)}60%{transform:translateY(-8px)}}']}))}return l(),i})();var C=s(2615);const v=[{path:"",component:M}];let F=(()=>{var l;class i{static#o=l=()=>(this.\u0275fac=function(n){return new(n||i)},this.\u0275mod=o.$C({type:i}),this.\u0275inj=C.G2t({imports:[u.MD,g.YN,e.bv,m.iI.forChild(v)]}))}return l(),i})()}}]);