"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2762],{2762:(P,g,u)=>{u.r(g),u.d(g,{RecuperacionPageModule:()=>C});var m=u(2200),d=u(4341),n=u(7343),f=u(8132),p=u(467),e=u(3664),i=u(2615),v=u(1562),h=u(7291);function _(s,o){if(1&s){const c=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"\xbfOlvidaste tu contrase\xf1a?"),e.k0s(),e.j41(5,"ion-card-subtitle"),e.EFF(6,"Ingresa tu correo para buscar tu cuenta"),e.k0s()(),e.j41(7,"ion-card-content")(8,"ion-item")(9,"ion-label",3),e.EFF(10,"Correo electr\xf3nico"),e.k0s(),e.j41(11,"ion-input",4),e.mxI("ngModelChange",function(t){i.eBV(c);const r=e.XpG();return e.DH7(r.email,t)||(r.email=t),i.Njj(t)}),e.k0s()(),e.j41(12,"ion-button",5),e.bIt("click",function(){i.eBV(c);const t=e.XpG();return i.Njj(t.buscarCuenta())}),e.EFF(13,"Buscar cuenta"),e.k0s(),e.j41(14,"ion-button",6),e.bIt("click",function(){i.eBV(c);const t=e.XpG();return i.Njj(t.irAInicioSesion())}),e.EFF(15," Volver al inicio de sesi\xf3n "),e.k0s()()()()}if(2&s){const c=e.XpG();e.R7$(11),e.R50("ngModel",c.email)}}function F(s,o){if(1&s){const c=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Restablecer contrase\xf1a"),e.k0s(),e.j41(5,"ion-card-subtitle"),e.EFF(6,"Cuenta: "),e.j41(7,"b"),e.EFF(8),e.k0s()()(),e.j41(9,"ion-card-content")(10,"ion-item")(11,"ion-label",3),e.EFF(12,"Nueva contrase\xf1a"),e.k0s(),e.j41(13,"ion-input",7),e.mxI("ngModelChange",function(t){i.eBV(c);const r=e.XpG();return e.DH7(r.nuevaPassword,t)||(r.nuevaPassword=t),i.Njj(t)}),e.k0s()(),e.j41(14,"ion-button",5),e.bIt("click",function(){i.eBV(c);const t=e.XpG();return i.Njj(t.restablecerPassword())}),e.EFF(15," Guardar nueva contrase\xf1a "),e.k0s(),e.j41(16,"ion-button",6),e.bIt("click",function(){i.eBV(c);const t=e.XpG();return i.Njj(t.paso="buscar")}),e.EFF(17," Volver "),e.k0s()()()()}if(2&s){const c=e.XpG();e.R7$(8),e.JRh(c.email),e.R7$(5),e.R50("ngModel",c.nuevaPassword)}}const b=[{path:"",component:(()=>{var s;class o{constructor(a,t,r){this.router=a,this.alertCtrl=t,this.storageService=r,this.email="",this.nuevaPassword="",this.paso="buscar"}buscarCuenta(){var a=this;return(0,p.A)(function*(){JSON.parse(localStorage.getItem("usuarios")||"[]").find(l=>l.email===a.email)?a.paso="restablecer":a.mostrarAlerta("Correo no encontrado","No existe una cuenta registrada con ese correo.")})()}restablecerPassword(){var a=this;return(0,p.A)(function*(){if(!a.nuevaPassword.trim())return void a.mostrarAlerta("Campo vac\xedo","Por favor ingresa una nueva contrase\xf1a.");const t=JSON.parse(localStorage.getItem("usuarios")||"[]"),r=t.findIndex(l=>l.email===a.email);-1!==r?(t[r].password=a.nuevaPassword,localStorage.setItem("usuarios",JSON.stringify(t)),(yield a.storageService.obtenerUsuario())===a.email&&(yield a.storageService.guardarUsuario(a.email)),yield(yield a.alertCtrl.create({header:"Contrase\xf1a restablecida",message:"Tu contrase\xf1a ha sido actualizada correctamente.",buttons:[{text:"Aceptar",handler:()=>a.router.navigate(["/inicio-sesion"])}]})).present()):a.mostrarAlerta("Error","No se pudo actualizar la contrase\xf1a.")})()}irAInicioSesion(){this.router.navigate(["/inicio-sesion"])}mostrarAlerta(a,t){var r=this;return(0,p.A)(function*(){yield(yield r.alertCtrl.create({header:a,message:t,buttons:["OK"]})).present()})()}static#e=s=()=>(this.\u0275fac=function(t){return new(t||o)(e.rXU(v.Ix),e.rXU(n.hG),e.rXU(h.n))},this.\u0275cmp=e.VBU({type:o,selectors:[["app-recuperacion"]],standalone:!1,decls:7,vars:2,consts:[["color","primary"],[1,"ion-padding"],[4,"ngIf"],["position","floating"],["type","email",3,"ngModelChange","ngModel"],["expand","block","color","success",3,"click"],["expand","block","fill","clear","color","medium",3,"click"],["type","password",3,"ngModelChange","ngModel"]],template:function(t,r){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Recuperar Contrase\xf1a"),e.k0s()()(),e.j41(4,"ion-content",1),e.DNE(5,_,16,1,"div",2)(6,F,18,2,"div",2),e.k0s()),2&t&&(e.R7$(5),e.Y8G("ngIf","buscar"===r.paso),e.R7$(),e.Y8G("ngIf","restablecer"===r.paso))},dependencies:[m.bT,d.BC,d.vS,n.Jm,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.eU,n.$w,n.uz,n.he,n.BC,n.ai,n.Gw],styles:["ion-card[_ngcontent-%COMP%]{margin-top:60px;border-radius:16px;box-shadow:0 6px 20px #0003;animation:_ngcontent-%COMP%_fadeIn .6s ease}ion-card-title[_ngcontent-%COMP%]{font-weight:700}ion-button[_ngcontent-%COMP%]{margin-top:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]}))}return s(),o})()}];let j=(()=>{var s;class o{static#e=s=()=>(this.\u0275fac=function(t){return new(t||o)},this.\u0275mod=e.$C({type:o}),this.\u0275inj=i.G2t({imports:[f.iI.forChild(b),f.iI]}))}return s(),o})(),C=(()=>{var s;class o{static#e=s=()=>(this.\u0275fac=function(t){return new(t||o)},this.\u0275mod=e.$C({type:o}),this.\u0275inj=i.G2t({imports:[m.MD,d.YN,n.bv,j]}))}return s(),o})()}}]);